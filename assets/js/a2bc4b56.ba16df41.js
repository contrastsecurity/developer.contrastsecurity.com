"use strict";(self.webpackChunkcontrast_dev=self.webpackChunkcontrast_dev||[]).push([[5216],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),h=c(n),m=r,d=h["".concat(s,".").concat(m)]||h[m]||u[m]||i;return n?a.createElement(d,o(o({ref:t},p),{},{components:n})):a.createElement(d,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},8312:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={slug:"Finding Log4j2",title:"Finding Log4j2 Vulnerabilities",authors:["mishra"],tags:["java","log4j2","api"]},s=void 0,c={permalink:"/blog/Finding Log4j2",editUrl:"https://github.com/contrastsecurity/developer.contrastsecurity.com/blob/master/blog/blog/2021-12-14/index.md",source:"@site/blog/2021-12-14/index.md",title:"Finding Log4j2 Vulnerabilities",description:"The recent log4j vulnerability provides an opportunity to demonstrate the Contrast API for two reasons:",date:"2021-12-14T00:00:00.000Z",formattedDate:"December 14, 2021",tags:[{label:"java",permalink:"/blog/tags/java"},{label:"log4j2",permalink:"/blog/tags/log-4-j-2"},{label:"api",permalink:"/blog/tags/api"}],readingTime:1.655,truncated:!1,authors:[{name:"Prashant Mishra",title:"Customer Success",key:"mishra"}],frontMatter:{slug:"Finding Log4j2",title:"Finding Log4j2 Vulnerabilities",authors:["mishra"],tags:["java","log4j2","api"]},prevItem:{title:"SafeLog4j",permalink:"/blog/SafeLog4j"},nextItem:{title:"Scaling to Scala",permalink:"/blog/Scala Support - Dec 2021"}},p={authorsImageUrls:[void 0]},u=[{value:"Which APIs are used",id:"which-apis-are-used",level:2}],h={toc:u};function m(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},h,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The recent log4j vulnerability provides an opportunity to demonstrate the Contrast API for two reasons:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Teams who want to know if they are impacted can quickly do so and know where to patch."),(0,i.kt)("li",{parentName:"ol"},"Teams who want more can read and change the code to answer additional questions.")),(0,i.kt)("p",null,"Right now we have ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Contrast-Security-OSS/CVE-2021-44228"},"two scripts")," that help teams find out if their applications are affected and specifically which applications fall into that group. One is in Python, the other is in Powershell -- simply choose the one that is easiest for you to use."),(0,i.kt)("p",null,"The way that we can locate these applications is:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Data is gathered through any Contrast-monitored application. Information is gathered from custom code, third party code, and even vendor software."),(0,i.kt)("li",{parentName:"ul"},"The data is collected for monitoring in the Contrast UI and its tracking system. In the case of log4j2, we want to use the library inventory to know which custom and third party applications are affected."),(0,i.kt)("li",{parentName:"ul"},"The custom script queries the data, making a nice list of where to look that can easily integrate with other tools.")),(0,i.kt)("p",null,"Seeing Where You Are Impacted To see where you are impacted, set environment variables. You can locate these by logging in and clicking the upper right, user settings."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"User Settings",src:n(8464).Z,width:"382",height:"304"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CONTRAST_AUTH_TOKEN - the authorization header."),(0,i.kt)("li",{parentName:"ul"},"CONTRAST_API_KEY - the API Key."),(0,i.kt)("li",{parentName:"ul"},"CONTRAST_ORG_ID - The Organization ID."),(0,i.kt)("li",{parentName:"ul"},"CONTRAST_API_URL - The hostname of your instance, such as ",(0,i.kt)("a",{parentName:"li",href:"https://app.contrastsecurity.com/"},"https://app.contrastsecurity.com/"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Keys",src:n(1829).Z,width:"1223",height:"609"})),(0,i.kt)("p",null,"Run the script and you will get a list of which applications are impacted. You can open it with any tool."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"List of Apps",src:n(1622).Z,width:"1031",height:"76"})),(0,i.kt)("h2",{id:"which-apis-are-used"},"Which APIs are used"),(0,i.kt)("p",null,"All data is loaded from the public ",(0,i.kt)("a",{parentName:"p",href:"https://api.contrastsecurity.com/"},"Contrast API"),". Specifically this uses a few API calls:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"/libraries - lists the libraries that are used by different applications throughout the organization."),(0,i.kt)("li",{parentName:"ul"},"/applications - provides application details, each time the log4j2 library if located."),(0,i.kt)("li",{parentName:"ul"},"users - identifies the full scope of your permissions to ensure we search everywhere.")))}m.isMDXComponent=!0},1829:function(e,t,n){t.Z=n.p+"assets/images/keys-af0ab8eb214aabee969232496657277e.png"},1622:function(e,t,n){t.Z=n.p+"assets/images/output-69428298965eb34162b88bee94830578.png"},8464:function(e,t,n){t.Z=n.p+"assets/images/userSettings-da29637530111e95e27679e46bdafdd1.png"}}]);